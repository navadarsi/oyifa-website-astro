---
/**
 * Schema.org structured data component
 * Adds Organization, WebSite, and other schemas for SEO
 */
interface Props {
  type?: 'homepage' | 'default';
}

const { type = 'default' } = Astro.props;
const currentUrl = Astro.url.href;

// Organization Schema - required on all pages
const organizationSchema = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "@id": "https://oyifa.com/#organization",
  "name": "Oyifa",
  "alternateName": "اويفا",
  "url": "https://oyifa.com",
  "logo": {
    "@type": "ImageObject",
    "url": "https://oyifa.com/assets/images/logo.png",
    "width": 250,
    "height": 60
  },
  "description": "Oyifa is the leading IT procurement and outsourcing platform for the GCC region, connecting businesses with qualified IT service providers.",
  "slogan": "Outsource Your Innovation From Anywhere",
  "foundingDate": "2024",
  "areaServed": [
    {
      "@type": "Country",
      "name": "United Arab Emirates"
    },
    {
      "@type": "Country",
      "name": "Saudi Arabia"
    },
    {
      "@type": "Country",
      "name": "Qatar"
    },
    {
      "@type": "Country",
      "name": "Kuwait"
    },
    {
      "@type": "Country",
      "name": "Bahrain"
    },
    {
      "@type": "Country",
      "name": "Oman"
    }
  ],
  "knowsAbout": [
    "IT Procurement",
    "IT Outsourcing",
    "Tender Management",
    "Vendor Management",
    "RFP Management",
    "IT Services"
  ],
  "sameAs": [
    "https://www.linkedin.com/company/oyifa",
    "https://twitter.com/oyifa"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "contactType": "Customer Support",
    "availableLanguage": ["English", "Arabic"],
    "areaServed": ["AE", "SA", "QA", "KW", "BH", "OM"]
  }
};

// WebSite Schema - for homepage only
const websiteSchema = type === 'homepage' ? {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "@id": "https://oyifa.com/#website",
  "url": "https://oyifa.com",
  "name": "Oyifa",
  "description": "IT procurement and outsourcing platform for the GCC region",
  "publisher": {
    "@id": "https://oyifa.com/#organization"
  },
  "inLanguage": ["en-US", "ar-SA"],
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "https://oyifa.com/blog?search={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
} : null;

// LocalBusiness Schema - for homepage only (targeting GCC)
const localBusinessSchema = type === 'homepage' ? {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "@id": "https://oyifa.com/#localbusiness",
  "name": "Oyifa",
  "image": "https://oyifa.com/assets/images/logo.png",
  "description": "IT procurement and outsourcing platform serving the GCC region",
  "url": "https://oyifa.com",
  "priceRange": "$$",
  "areaServed": {
    "@type": "GeoCircle",
    "geoMidpoint": {
      "@type": "GeoCoordinates",
      "latitude": 24.4539,
      "longitude": 54.3773
    },
    "geoRadius": "2000000"
  },
  "knowsLanguage": ["en", "ar"]
} : null;

// Combine all schemas
const schemas = [
  organizationSchema,
  websiteSchema,
  localBusinessSchema
].filter(Boolean);
---

<!-- Schema.org Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(schemas)} />
